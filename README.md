# ğŸ­ è§’è‰²æ‰®æ¼”èŠå¤©åº”ç”¨ (Chat RP)

<div align="center">

![Vue](https://img.shields.io/badge/Vue-3.5-4FC08D?logo=vue.js&logoColor=white)
![Node.js](https://img.shields.io/badge/Node.js-20+-339933?logo=node.js&logoColor=white)
![Element Plus](https://img.shields.io/badge/Element%20Plus-2.11-409EFF?logo=element&logoColor=white)
![License](https://img.shields.io/badge/License-MIT-blue)

**ä¸€ä¸ªåŸºäº Vue 3 å’Œ Node.js çš„æ™ºèƒ½è§’è‰²æ‰®æ¼”èŠå¤©åº”ç”¨**

æ”¯æŒè‡ªå®šä¹‰è§’è‰²è®¾å®šã€å¤šæ¨¡æ€å¯¹è¯å’Œç²¾ç¾çš„ç”¨æˆ·ç•Œé¢

[åŠŸèƒ½ç‰¹æ€§](#-åŠŸèƒ½ç‰¹æ€§) Â· [å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹) Â· [é¡¹ç›®ç»“æ„](#-é¡¹ç›®ç»“æ„) Â· [API æ–‡æ¡£](#-api-æ–‡æ¡£) Â· [è´¡çŒ®æŒ‡å—](#-è´¡çŒ®)

</div>

---

## âœ¨ åŠŸèƒ½ç‰¹æ€§

| åŠŸèƒ½ | æè¿° |
|------|------|
| ğŸ­ **è§’è‰²æ‰®æ¼”** | æ”¯æŒé¢„è®¾è§’è‰²å’Œå®Œå…¨è‡ªå®šä¹‰è§’è‰²è®¾å®š |
| ğŸ’¬ **æ™ºèƒ½å¯¹è¯** | åŸºäº GLM-4.5V å¤§æ¨¡å‹çš„æ™ºèƒ½å¯¹è¯ç³»ç»Ÿ |
| ğŸ–¼ï¸ **å¤šæ¨¡æ€æ”¯æŒ** | æ”¯æŒå›¾ç‰‡ä¸Šä¼ å’Œè§†è§‰ç†è§£ |
| ğŸ¨ **ç²¾ç¾ç•Œé¢** | ä½¿ç”¨ Element Plus æ„å»ºçš„ç°ä»£åŒ–å“åº”å¼ UI |
| â„ï¸ **åŠ¨æ€æ•ˆæœ** | å†…ç½®é›ªèŠ±ç‰¹æ•ˆå’Œè‡ªå®šä¹‰èŠå¤©èƒŒæ™¯ |
| âš™ï¸ **å‚æ•°è°ƒèŠ‚** | æ”¯æŒ Temperature å’Œ Top-P å‚æ•°è°ƒèŠ‚ |
| ğŸ“± **å“åº”å¼è®¾è®¡** | å®Œç¾é€‚é…å¤šç§å±å¹•å°ºå¯¸ |

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### å‰ç«¯
- **æ¡†æ¶**: Vue 3 (Composition API)
- **UI åº“**: Element Plus
- **æ„å»ºå·¥å…·**: Vite 7
- **HTTP å®¢æˆ·ç«¯**: åŸç”Ÿ Fetch API

### åç«¯
- **è¿è¡Œæ—¶**: Node.js 20+
- **æ¡†æ¶**: Express 4
- **AI æ¨¡å‹**: GLM-4.5V (æ™ºè°± AI)
- **ç¯å¢ƒå˜é‡**: dotenv

## ğŸ“¦ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

- Node.js >= 20.12.0
- npm >= 10.5.0
- GLM API Key ([è·å–åœ°å€](https://open.bigmodel.cn/))

### å®‰è£…æ­¥éª¤

#### 1. å…‹éš†é¡¹ç›®

```bash
git clone https://github.com/naitjc/chat.git
cd chat/qa-app
```

#### 2. é…ç½®åç«¯

```bash
cd backend
npm install
```

åˆ›å»º `.env` æ–‡ä»¶å¹¶é…ç½®ï¼š

```env
# å¿…å¡«ï¼šGLM API å¯†é’¥
GLM_API_KEY=your_api_key_here

# å¯é€‰ï¼šæœåŠ¡ç«¯å£ï¼ˆé»˜è®¤ 8888ï¼‰
PORT=8888

# å¯é€‰ï¼šæ¨¡å‹åç§°ï¼ˆé»˜è®¤ GLM-4.5Vï¼‰
MODEL=GLM-4.5V
```

#### 3. é…ç½®å‰ç«¯

```bash
cd ../frontend-vue
npm install
```

### ğŸš€ å¯åŠ¨åº”ç”¨

#### å¼€å‘æ¨¡å¼

```bash
# ç»ˆç«¯ 1ï¼šå¯åŠ¨åç«¯
cd backend
npm start

# ç»ˆç«¯ 2ï¼šå¯åŠ¨å‰ç«¯
cd frontend-vue
npm run dev
```

è®¿é—® `http://localhost:5173` å³å¯ä½¿ç”¨åº”ç”¨ã€‚

#### ç”Ÿäº§æ¨¡å¼

```bash
# æ„å»ºå‰ç«¯
cd frontend-vue
npm run build

# å¯åŠ¨åç«¯ï¼ˆè‡ªåŠ¨æœåŠ¡å‰ç«¯é™æ€æ–‡ä»¶ï¼‰
cd ../backend
npm start
```

è®¿é—® `http://localhost:8888` å³å¯ä½¿ç”¨åº”ç”¨ã€‚

## ğŸ“ é¡¹ç›®ç»“æ„

```
chat/
â”œâ”€â”€ README.md                    # é¡¹ç›®æ–‡æ¡£
â”œâ”€â”€ .gitignore                   # Git å¿½ç•¥é…ç½®
â””â”€â”€ qa-app/
    â”œâ”€â”€ backend/                 # åç«¯æœåŠ¡
    â”‚   â”œâ”€â”€ server.js            # Express æœåŠ¡å™¨å…¥å£
    â”‚   â”œâ”€â”€ .env                 # ç¯å¢ƒå˜é‡é…ç½®ï¼ˆéœ€åˆ›å»ºï¼‰
    â”‚   â””â”€â”€ package.json         # åç«¯ä¾èµ–é…ç½®
    â”‚
    â””â”€â”€ frontend-vue/            # å‰ç«¯åº”ç”¨
        â”œâ”€â”€ index.html           # HTML å…¥å£
        â”œâ”€â”€ vite.config.js       # Vite é…ç½®
        â”œâ”€â”€ package.json         # å‰ç«¯ä¾èµ–é…ç½®
        â”‚
        â”œâ”€â”€ public/              # é™æ€èµ„æº
        â”‚   â”œâ”€â”€ characters.json  # é¢„è®¾è§’è‰²é…ç½®
        â”‚   â””â”€â”€ avatars/         # è§’è‰²å¤´åƒå›¾ç‰‡
        â”‚
        â””â”€â”€ src/
            â”œâ”€â”€ App.vue          # ä¸»åº”ç”¨ç»„ä»¶
            â”œâ”€â”€ main.js          # åº”ç”¨å…¥å£
            â”œâ”€â”€ style.css        # å…¨å±€æ ·å¼
            â”‚
            â”œâ”€â”€ assets/          # èµ„æºæ–‡ä»¶
            â”‚
            â””â”€â”€ components/      # Vue ç»„ä»¶
                â”œâ”€â”€ AppHeader.vue          # é¡¶éƒ¨å¯¼èˆªæ 
                â”œâ”€â”€ CharacterSettings.vue  # è§’è‰²è®¾ç½®é¢æ¿
                â”œâ”€â”€ ChatArea.vue           # èŠå¤©åŒºåŸŸ
                â”œâ”€â”€ PopupModal.vue         # å¼¹çª—ç»„ä»¶
                â””â”€â”€ SnowEffect.vue         # é›ªèŠ±ç‰¹æ•ˆ
```

## ğŸ“– API æ–‡æ¡£

### POST `/qa`

å‘é€èŠå¤©æ¶ˆæ¯å¹¶è·å– AI å›å¤ã€‚

#### è¯·æ±‚ä½“

```json
{
  "question": "ä½ å¥½ï¼",
  "history": [],
  "image": "data:image/png;base64,...",
  "roleName": "å°é¸Ÿæ¸¸å…­èŠ±",
  "behavioralTraits": "å³çœ¼æˆ´ç€çœ¼ç½©...",
  "identityBackground": "å¯Œæ¨«å‹‡å¤ªçš„åŒç­åŒå­¦...",
  "personalityTraits": "å†…å‘æ€•ç”Ÿ...",
  "languageStyle": "å……æ»¡ä¸­äºŒç—…çš„è¯æ±‡...",
  "gender": "å¥³",
  "likedItems": "è‡ªåŠ¨ä¼ï¼›çœ¼ç½©...",
  "dislikedItems": "æ•°å­¦é¢˜...",
  "userNickname": "å‹‡å¤ª",
  "temperature": 0.7,
  "top_p": 0.9
}
```

#### å‚æ•°è¯´æ˜

| å‚æ•° | ç±»å‹ | å¿…å¡« | æè¿° |
|------|------|------|------|
| `question` | string | äºŒé€‰ä¸€ | ç”¨æˆ·é—®é¢˜æ–‡æœ¬ |
| `image` | string | äºŒé€‰ä¸€ | Base64 ç¼–ç çš„å›¾ç‰‡ |
| `history` | array | å¦ | å¯¹è¯å†å²è®°å½• |
| `roleName` | string | å¦ | è§’è‰²åç§° |
| `behavioralTraits` | string | å¦ | è¡Œä¸ºç‰¹å¾ |
| `identityBackground` | string | å¦ | èº«ä»½èƒŒæ™¯ |
| `personalityTraits` | string | å¦ | æ€§æ ¼ç‰¹å¾ |
| `languageStyle` | string | å¦ | è¯­è¨€é£æ ¼ |
| `gender` | string | å¦ | æ€§åˆ« |
| `likedItems` | string | å¦ | å–œæ¬¢çš„ç‰©å“ |
| `dislikedItems` | string | å¦ | è®¨åŒçš„ç‰©å“ |
| `userNickname` | string | å¦ | ç§°å‘¼ç”¨æˆ·çš„æ˜µç§° |
| `temperature` | number | å¦ | æ¸©åº¦å‚æ•° (0-2, é»˜è®¤ 0.7) |
| `top_p` | number | å¦ | Top-P å‚æ•° (0-1, é»˜è®¤ 0.9) |

#### å“åº”

```json
{
  "answer": "AI çš„å›å¤å†…å®¹"
}
```

## ğŸ® ä½¿ç”¨æŒ‡å—

### 1. é€‰æ‹©è§’è‰²

ä»é¡¶éƒ¨ä¸‹æ‹‰èœå•é€‰æ‹©é¢„è®¾è§’è‰²ï¼Œæˆ–é€‰æ‹©ã€Œè‡ªå®šä¹‰ã€æ¨¡å¼åˆ›å»ºè‡ªå·±çš„è§’è‰²ã€‚

### 2. é…ç½®è§’è‰²å±æ€§

| å±æ€§ | è¯´æ˜ |
|------|------|
| è§’è‰²åç§° | è§’è‰²çš„åå­— |
| è¡Œä¸ºç‰¹å¾ | è§’è‰²çš„å¤–åœ¨è¡Œä¸ºè¡¨ç° |
| èº«ä»½èƒŒæ™¯ | è§’è‰²çš„èƒŒæ™¯æ•…äº‹ |
| æ€§æ ¼ç‰¹å¾ | è§’è‰²çš„æ€§æ ¼æè¿° |
| è¯­è¨€é£æ ¼ | è§’è‰²çš„è¯´è¯æ–¹å¼å’Œå£ç™– |
| æ€§åˆ« | è§’è‰²çš„æ€§åˆ« |
| å–œæ¬¢çš„ç‰©å“ | è§’è‰²çš„å–œå¥½ |
| è®¨åŒçš„ç‰©å“ | è§’è‰²åŒæ¶çš„äº‹ç‰© |
| ç§°å‘¼ç”¨æˆ·çš„æ˜µç§° | è§’è‰²å¦‚ä½•ç§°å‘¼ç”¨æˆ· |

### 3. å¼€å§‹å¯¹è¯

è¾“å…¥æ¶ˆæ¯æˆ–ä¸Šä¼ å›¾ç‰‡å¼€å§‹ä¸è§’è‰²å¯¹è¯ã€‚æ”¯æŒï¼š
- çº¯æ–‡æœ¬å¯¹è¯
- å›¾ç‰‡ä¸Šä¼ è¯†åˆ«
- å¯¹è¯å†å²ä¸Šä¸‹æ–‡

### 4. ä¸ªæ€§åŒ–è®¾ç½®

- **è°ƒèŠ‚å‚æ•°**: é€šè¿‡ Temperature å’Œ Top-P æ»‘å—è°ƒèŠ‚å›å¤é£æ ¼
- **è‡ªå®šä¹‰èƒŒæ™¯**: ç‚¹å‡»ã€Œè®¾ç½®èŠå¤©èƒŒæ™¯ã€ä¸Šä¼ è‡ªå®šä¹‰èƒŒæ™¯å›¾

## ğŸ”§ é…ç½®è¯´æ˜

### ç¯å¢ƒå˜é‡

#### åç«¯ (`qa-app/backend/.env`)

| å˜é‡å | å¿…å¡« | é»˜è®¤å€¼ | æè¿° |
|--------|------|--------|------|
| `GLM_API_KEY` | âœ… | - | æ™ºè°± AI API å¯†é’¥ (å¿…é¡»è®¾ç½®) |
| `PORT` | âŒ | `8888` | åç«¯æœåŠ¡ç«¯å£ |
| `MODEL` | âŒ | `GLM-4.5V` | ä½¿ç”¨çš„æ¨¡å‹åç§° |

#### å‰ç«¯ (`qa-app/frontend-vue/.env`)

| å˜é‡å | å¿…å¡« | é»˜è®¤å€¼ | æè¿° |
|--------|------|--------|------|
| `VITE_API_URL` | âŒ | `http://localhost:8888/qa` | åç«¯ API åœ°å€ |

### æ·»åŠ æ–°è§’è‰²

ç¼–è¾‘ `frontend-vue/public/characters.json` æ·»åŠ æ–°è§’è‰²ï¼š

```json
{
  "id": "unique_id",
  "roleName": "è§’è‰²åç§°",
  "behavioralTraits": "è¡Œä¸ºç‰¹å¾",
  "identityBackground": "èº«ä»½èƒŒæ™¯",
  "personalityTraits": "æ€§æ ¼ç‰¹å¾",
  "languageStyle": "è¯­è¨€é£æ ¼",
  "gender": "æ€§åˆ«",
  "likedItems": "å–œæ¬¢çš„ç‰©å“",
  "dislikedItems": "è®¨åŒçš„ç‰©å“",
  "userNickname": "ç§°å‘¼ç”¨æˆ·çš„æ˜µç§°",
  "avatar": "/avatars/your_avatar.png"
}
```

> **æç¤º**: å¤´åƒå›¾ç‰‡éœ€æ”¾ç½®åœ¨ `public/avatars/` ç›®å½•ä¸‹

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. åˆ›å»º Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [MIT](LICENSE) è®¸å¯è¯ã€‚

---

<div align="center">

**Made with â¤ï¸ by [naitjc](https://github.com/naitjc)**

</div>
